<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <title>TIM3 BR3AK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&family=Roboto+Mono:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="password-protection-screen" class="w-full max-w-sm mx-auto p-6 bg-gray-900 rounded-2xl shadow-lg z-50 flex flex-col items-center justify-center">
        <div class="text-center">
            <svg class="mx-auto h-12 w-12 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
            <h2 class="mt-4 text-2xl font-bold">Acceso Protegido</h2>
            <p class="mt-2 text-sm text-gray-400">Introduce la contraseña para continuar.</p>
        </div>
        <div class="mt-6 w-full">
            <input type="password" id="password-input" class="w-full p-3 bg-gray-800 border-2 border-gray-600 rounded-lg text-center text-lg focus:border-purple-500 focus:outline-none" placeholder="Contraseña">
            <p id="password-error" class="text-red-500 text-sm text-center h-4 mt-2"></p>
            <button id="password-submit" class="w-full mt-2 action-button bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-lg">Desbloquear</button>
        </div>
    </div>

    <div id="app-container" class="hidden h-full w-full">
        <div id="main-screen" class="app-screen text-center w-full h-full max-w-md mx-auto p-4 flex flex-col items-center justify-center">
            <h1 class="font-title text-5xl sm:text-6xl font-bold mb-8 whitespace-nowrap">TIM<span class="text-red-500">3</span> BR<span class="text-red-500">3</span>AK</h1>
            
            <div class="flex flex-col space-y-4 w-full items-center">
                <button id="play-button" class="action-button w-full max-w-xs bg-emerald-500 hover:bg-emerald-600 text-white font-bold text-2xl py-4 rounded-xl">¡JUGAR!</button>
                <button id="friends-button" class="relative action-button w-full max-w-xs bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-xl">
                    AMIGOS
                    <span id="friends-notification-badge" class="hidden absolute top-2 right-2 w-3 h-3 bg-red-500 rounded-full notification-badge"></span>
                </button>
                <button id="ranking-button" class="action-button w-full max-w-xs bg-sky-600 hover:bg-sky-700 text-white font-bold py-3 rounded-xl">RANKING</button>
            </div>
            
        <button id="profile-button" class="mt-8 flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-800 transition-colors">
            </button>
            
            <div id="icon-bar" class="absolute bottom-16 left-0 right-0 w-full max-w-md mx-auto flex justify-center items-center space-x-10">
                <button id="settings-icon-button" class="icon-button text-gray-400 hover:text-white">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                </button>
                <button id="info-icon-button" class="icon-button text-gray-400 hover:text-white">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                </button>
            </div>

            <div class="fixed bottom-5 left-0 right-0 text-center text-xs text-gray-500 safe-area-padding-bottom">Banner de Publicidad</div>
        </div>

        <div id="game-screen" class="hidden app-screen w-full h-full flex flex-col p-4">
            <header class="flex items-center justify-between mb-6 w-full max-w-md mx-auto flex-shrink-0">
                <button id="exit-button" class="text-3xl font-bold text-gray-400 hover:text-white w-12 text-left">X</button>
                <div class="flex-grow"></div>
                <div id="date-display" class="text-sm text-gray-500 text-right"></div>
            </header>
            <main class="flex-grow flex flex-col items-center justify-center">
                <div class="w-full max-w-md flex flex-col items-center justify-center relative border-4 border-gray-700 rounded-3xl bg-gray-900/50 p-6 sm:p-8 gap-y-4">
                    <div id="current-score-container" class="text-center">
                        <div class="text-lg font-bold text-gray-400">PUNTUACIÓN</div>
                        <div id="current-score-display" class="font-chrono text-4xl text-white">0</div>
                    </div>
                    <div id="score-feedback" class="font-chrono text-5xl text-yellow-400 font-bold"></div>
                    <div id="chronometer" class="font-chrono text-7xl sm:text-8xl">00<span class="text-5xl sm:text-6xl text-gray-400">.00</span></div>
                    <div id="attempts-indicator" class="flex space-x-2"></div>
                    <button id="action-button" class="action-button w-1/2 h-20 text-white font-bold text-2xl rounded-full flex items-center justify-center"></button>
                </div>
                 <div id="best-score-container" class="text-center mt-6">
                    <div class="text-lg font-bold text-gray-400">BEST TODAY</div>
                    <div id="best-score-display" class="font-chrono text-3xl text-yellow-400">0</div>
                </div>
            </main>
            <footer class="text-center text-xs text-gray-500 py-2 flex-shrink-0 safe-area-padding-bottom">Banner de Publicidad</footer>
        </div>

        <div id="info-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
            <header class="w-full max-w-md mx-auto mb-6">
                <div class="w-full"><button id="back-to-main-from-info" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
                <h2 class="text-3xl font-bold text-white text-center mt-2">INFORMACIÓN</h2>
            </header>
            <div class="flex-grow flex items-center justify-center safe-area-padding-bottom">
                <div class="w-full max-w-md space-y-4">
                    <button id="info-nav-how-to-play-button" class="w-full bg-gray-800 p-4 rounded-lg flex items-center justify-between hover:bg-gray-700 transition-colors">
                        <span class="text-lg font-semibold">Cómo Jugar</span>
                        <span class="text-gray-400">→</span>
                    </button>
                    <button id="info-nav-about-button" class="w-full bg-gray-800 p-4 rounded-lg flex items-center justify-between hover:bg-gray-700 transition-colors">
                        <span class="text-lg font-semibold">Acerca de</span>
                        <span class="text-gray-400">→</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="how-to-play-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
             <header class="w-full max-w-md mx-auto mb-6">
                 <div class="w-full"><button id="back-to-main-from-how-to-play" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
                 <h2 class="text-3xl font-bold text-white text-center mt-2">CÓMO JUGAR</h2>
             </header>
             <div class="flex-grow flex items-center justify-center safe-area-padding-bottom">
                 <div class="w-full max-w-md border-4 border-gray-700 rounded-3xl bg-gray-900/50 p-6 space-y-4">
                     <div class="text-center text-base sm:text-lg bg-gray-800 p-4 rounded-lg">
                         <p class="leading-relaxed">Pulsa <span class="inline-flex items-center justify-center w-10 h-10 mx-1 bg-emerald-500 text-white font-bold text-sm rounded-full align-middle">GO!</span> y tienes que parar el tiempo 10 veces en 10 segundos.</p>
                         <p class="mt-2">¡Consigue más puntos contra más precisión tengas parando el tiempo!</p>
                     </div>
                     <div class="space-y-3 text-base sm:text-lg">
                         <div class="flex items-center justify-between bg-gray-800 p-3 rounded-lg"><span class="font-chrono text-xl sm:text-2xl">00:<span class="text-yellow-400">X0</span></span><span class="font-bold text-yellow-400">+1 PUNTO</span></div>
                         <div class="flex items-center justify-between bg-gray-800 p-3 rounded-lg"><span class="font-chrono text-xl sm:text-2xl">00:<span class="text-cyan-400">XX</span></span><span class="font-bold text-cyan-400">+2 PUNTOS</span></div>
                         <div class="flex items-center justify-between bg-gray-800 p-3 rounded-lg"><span class="font-chrono text-xl sm:text-2xl">0<span class="text-pink-400">X</span>:<span class="text-pink-400">X0</span></span><span class="font-bold text-pink-400">+3 PUNTOS</span></div>
                         <div class="flex items-center justify-between bg-gray-800 p-3 rounded-lg"><span class="font-chrono text-xl sm:text-2xl">0<span class="text-green-400">X</span>:<span class="text-green-400">XX</span></span><span class="font-bold text-green-400">¡HIT! +5</span></div>
                     </div>
                 </div>
             </div>
        </div>
        
        <div id="ranking-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
            <header class="w-full max-w-md mx-auto mb-4 flex-shrink-0">
                <div class="w-full"><button id="back-to-main-from-ranking" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
                <h2 class="text-3xl font-bold text-white text-center mt-2">RANKING</h2>
                <div class="flex border-b border-gray-700 mt-4">
                    <button id="ranking-tab-personal" class="flex-1 py-2 text-center font-semibold border-b-2 transition-colors text-white border-purple-500">Personal</button>
                    <button id="ranking-tab-global" class="flex-1 py-2 text-center font-semibold border-b-2 transition-colors text-gray-400 border-transparent hover:text-white">Mundial</button>
                </div>
            </header>
            <main class="flex-grow flex flex-col items-center w-full overflow-y-auto">
                <div id="personal-ranking-list" class="w-full max-w-md space-y-3"></div>
                <div id="global-ranking-list" class="hidden w-full max-w-md space-y-3"></div>
            </main>
            <div class="w-full max-w-md mx-auto mt-4 mb-2 flex-shrink-0 flex justify-center safe-area-padding-bottom">
                <button id="reset-data-button" class="action-button w-1/2 bg-gray-800 p-2 rounded-lg flex items-center justify-center text-red-400 hover:bg-red-900 hover:text-white transition-colors">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                     <span class="text-sm font-semibold">Reiniciar</span>
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                </button>
            </div>
            <footer class="text-center text-xs text-gray-500 py-2 flex-shrink-0 safe-area-padding-bottom">Banner de Publicidad</footer>
        </div>
        <div id="settings-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
            <header class="w-full max-w-md mx-auto mb-6">
                <div class="w-full"><button id="back-to-main-from-settings" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
                <h2 class="text-3xl font-bold text-white text-center mt-2">AJUSTES</h2>
            </header>
            <div class="flex-grow flex items-center justify-center safe-area-padding-bottom">
                <div class="w-full max-w-md border-4 border-gray-700 rounded-3xl bg-gray-900/50 p-6 space-y-6">
                    <div class="flex items-center justify-between bg-gray-800 p-4 rounded-lg">
                        <span class="text-lg font-semibold">Efectos de Sonido</span>
                        <div id="sound-checkbox" class="w-7 h-7 border-2 border-gray-500 rounded-md flex items-center justify-center cursor-pointer transition-colors">
                             <svg id="sound-checkmark" class="hidden w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" /></svg>
                        </div>
                    </div>
                    <div class="flex items-center justify-between bg-gray-800 p-4 rounded-lg">
                        <span class="text-lg font-semibold">Vibración</span>
                         <div id="vibration-checkbox" class="w-7 h-7 border-2 border-gray-500 rounded-md flex items-center justify-center cursor-pointer transition-colors">
                             <svg id="vibration-checkmark" class="hidden w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" /></svg>
                        </div>
                    </div>
                    <div class="flex items-center justify-between bg-gray-800 p-4 rounded-lg">
                        <span class="text-lg font-semibold">Mostrar Puntuación en Partida</span>
                         <div id="show-score-checkbox" class="w-7 h-7 border-2 border-gray-500 rounded-md flex items-center justify-center cursor-pointer transition-colors">
                             <svg id="show-score-checkmark" class="hidden w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" /></svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<div id="profile-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
    <header class="w-full max-w-md mx-auto mb-4 flex-shrink-0">
        <div class="w-full"><button id="back-to-main-from-profile" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
        <h2 class="text-3xl font-bold text-white text-center mt-2">PERFIL Y LOGROS</h2>
    </header>

    <div class="w-full max-w-md mx-auto flex border-b border-gray-700 mb-4 flex-shrink-0">
        <button id="profile-tab-edit" class="flex-1 py-2 text-center font-semibold border-b-2 transition-colors text-white border-purple-500">Editar</button>
        <button id="profile-tab-medals" class="flex-1 py-2 text-center font-semibold border-b-2 transition-colors text-gray-400 border-transparent hover:text-white">Medallas</button>
    </div>

    <main id="profile-edit-container" class="flex-grow flex flex-col items-center w-full max-w-md mx-auto space-y-4 overflow-y-auto pb-24">

        <div id="level-progress-section" class="w-full bg-gray-800 p-4 rounded-lg mb-4 flex-shrink-0">
            <div class="flex justify-between items-center mb-1">
                <span id="current-level-name" class="font-bold text-lg text-white">Aprendiz</span>
                <span id="next-level-name" class="text-sm text-gray-400"> -> Bronce</span>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2.5">
                <div id="progress-bar-fill" class="bg-yellow-700 h-2.5 rounded-full" style="width: 0%"></div>
            </div>
            <div class="text-right text-xs text-gray-400 mt-1">
                <span id="current-total-score">0</span> / <span id="next-level-threshold">251</span> Puntos
            </div>
        </div>
        </main>      
        <div class="flex-shrink-0">
            <h3 class="text-lg font-semibold text-gray-400 mb-2 text-center">Tu Avatar</h3>
            <div id="current-avatar-display" class="w-24 h-24 p-2 rounded-full mx-auto bg-gray-800 border-2 border-gray-600 flex items-center justify-center"></div>
        </div>
        <div class="w-full flex-shrink-0">
            <h3 class="text-lg font-semibold text-gray-400 mb-2 text-center">Elige tu Nickname</h3>
            <input id="nickname-input" type="text" maxlength="15" class="w-full p-3 bg-gray-800 border-2 border-gray-600 rounded-lg text-center text-lg focus:border-emerald-500 focus:outline-none" placeholder="Tu Nickname">
            <p id="nickname-feedback" class="text-center text-sm mt-2 h-4"></p>
        </div>
        <div class="w-full flex-grow flex flex-col min-h-0">
            <h3 class="text-lg font-semibold text-gray-400 mb-4 text-center">Elige un Avatar</h3>
            <div id="avatar-gallery" class="flex items-center space-x-4 bg-gray-800 p-4 rounded-lg overflow-x-auto">
            </div>
        </div>
        <button id="save-profile-button" class="action-button w-full max-w-xs bg-emerald-500 hover:bg-emerald-600 text-white font-bold text-xl py-3 rounded-xl flex-shrink-0 mt-4">Guardar Perfil</button>
    </main>

    <main id="profile-medals-container" class="hidden flex-grow w-full max-w-md mx-auto overflow-y-auto safe-area-padding-bottom">      
    <div id="medal-gallery-container" class="grid grid-cols-4 gap-4 p-4 bg-gray-800 rounded-lg">
            </div>
    </main>
</div>
        <div id="friends-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
            <header class="w-full max-w-md mx-auto mb-6">
                <div class="w-full"><button id="back-to-main-from-friends" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
                <h2 class="text-3xl font-bold text-white text-center mt-2">AMIGOS</h2>
            </header>
            <div class="w-full max-w-md mx-auto flex-shrink-0">
                 <div class="flex border-b border-gray-700 mb-4">
                     <button id="friends-tab-list" class="flex-1 py-2 text-center font-semibold border-b-2 transition-colors text-white border-purple-500">Mis Amigos</button>
                     <button id="friends-tab-requests" class="relative flex-1 py-2 text-center font-semibold border-b-2 transition-colors text-gray-400 border-transparent hover:text-white">
                         Solicitudes
                         <span id="requests-notification-badge" class="hidden absolute top-1 right-1/4 w-2.5 h-2.5 bg-red-500 rounded-full notification-badge"></span>
                     </button>
                 </div>
                 <div class="relative mb-4">
                     <input id="add-friend-input" type="text" class="w-full p-3 pl-10 bg-gray-800 border-2 border-gray-600 rounded-lg focus:border-purple-500 focus:outline-none" placeholder="Buscar jugador por Nickname...">
                     <div class="absolute inset-y-0 left-0 flex items-center pl-3">
                         <svg class="h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                     </div>
                 </div>
                 <div id="search-results-container" class="space-y-2"></div>
            </div>
            <main class="flex-grow flex flex-col items-center w-full overflow-y-auto max-w-md mx-auto safe-area-padding-bottom">
                 <div id="friends-list-container" class="w-full space-y-3"></div>
                 <div id="requests-list-container" class="w-full space-y-3 hidden"></div>
            </main>
        </div>
        <div id="about-screen" class="hidden app-screen w-full h-full flex flex-col p-4 bg-gray-900">
            <header class="w-full max-w-md mx-auto mb-6">
                 <div class="w-full"><button id="back-to-main-from-about" class="text-3xl font-bold text-gray-400 hover:text-white">←</button></div>
                <h2 class="text-3xl font-bold text-white text-center mt-2">ACERCA DE</h2>
            </header>
            <div class="flex-grow text-gray-300 space-y-6 overflow-y-auto text-sm max-w-md mx-auto safe-area-padding-bottom">
                <h3 class="text-xl font-bold text-white">Versión de la App</h3>
                <p>TIM3 BR3AK v1.9</p>
                <h3 class="text-xl font-bold text-white">Términos y Condiciones</h3><p>Lorem ipsum dolor sit amet...</p>
                <h3 class="text-xl font-bold text-white">Política de Privacidad</h3><p>Vestibulum lacinia arcu eget nulla...</p>
            </div>
        </div>

        <div id="exit-popup" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-10">
            <div class="bg-gray-800 rounded-lg p-8 text-center max-w-sm w-full">
                <h2 class="text-2xl font-bold mb-4">¿Quieres salir?</h2>
                <p class="text-gray-400 mb-6">Tu puntuación no se guardará.</p>
                <div class="flex justify-center space-x-4">
                    <button id="confirm-exit-button" class="action-button bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg">Salir</button>
                    <button id="cancel-exit-button" class="action-button bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg">Cancelar</button>
                </div>
            </div>
        </div>
        <div id="end-game-popup" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-10">
            <div class="bg-gray-800 rounded-lg p-8 text-center max-w-sm w-full">
                <h2 class="text-2xl font-bold mb-4">¡Partida Terminada!</h2>
                <p class="text-gray-400 mb-6 text-xl">Tu puntuación: <span id="final-score" class="font-bold text-white">0</span></p>
                <div class="flex flex-col space-y-4">
                    <button id="play-again-button" class="action-button bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 rounded-lg">Jugar de Nuevo</button>
                    <button id="main-menu-button" class="action-button bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 rounded-lg">Menú Principal</button>
                </div>
            </div>
        </div>
        <div id="game-mode-popup" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-10">
            <div class="bg-gray-800 rounded-2xl p-6 text-center max-w-sm w-full shadow-lg">
                <h2 class="text-3xl font-bold mb-6">Elige un Modo</h2>
                <div class="flex flex-col space-y-2">
                    <div>
                        <button id="mode-classic-button" class="action-button w-full bg-emerald-500 hover:bg-emerald-600 text-white font-bold text-xl py-3 rounded-xl">Modo Clásico</button>
                        <p class="text-sm text-gray-400 mt-1 px-2">El reto original: 10 paradas en 10 segundos.</p>
                    </div>
                    <div class="pt-2">
                        <button id="mode-hidden-button" class="action-button w-full bg-sky-600 hover:bg-sky-700 text-white font-bold text-xl py-3 rounded-xl">Modo Oculto</button>
                        <p class="text-sm text-gray-400 mt-1 px-2">Juega a ciegas, sin ver el cronómetro.</p>
                    </div>
                    <div class="pt-2">
                        <button id="mode-pro-button" class="action-button w-full bg-red-600 hover:bg-red-700 text-white font-bold text-xl py-3 rounded-xl">Modo Pro</button>
                        <p class="text-sm text-gray-400 mt-1 px-2">¡Velocidad extrema! Solo tienes 3 segundos.</p>
                    </div>
                    <div class="pt-2">
                        <button id="mode-fast-button" class="action-button w-full bg-amber-600 hover:bg-amber-700 text-white font-bold text-xl py-3 rounded-xl">Modo FAST</button>
                        <p class="text-sm text-gray-400 mt-1 px-2">El tiempo corre al doble de velocidad.</p>
                    </div>
                </div>
                <button id="close-mode-popup-button" class="mt-6 text-gray-400 hover:text-white font-bold">Cancelar</button>
            </div>
        </div>
        <div id="reset-data-popup" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-10">
            <div class="bg-gray-800 rounded-lg p-8 text-center max-w-sm w-full">
                <h2 class="text-2xl font-bold mb-4">¿Reiniciar Puntuaciones?</h2>
                <p class="text-gray-400 mb-6">Se borrarán todas tus puntuaciones. Esta acción no se puede deshacer.</p>
                <div class="flex justify-center space-x-4">
                    <button id="confirm-reset-button" class="action-button bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg">Reiniciar</button>
                    <button id="cancel-reset-button" class="action-button bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div id="avatar-svgs" class="hidden">
            <svg id="avatar-circle" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle></svg>
            <svg id="avatar-square" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>
            <svg id="avatar-triangle" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"></path></svg>
            <svg id="avatar-star" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
            <svg id="avatar-heart" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"></path></svg>
            <svg id="avatar-zap" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>
            <svg id="avatar-shield" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
            <svg id="avatar-ghost" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5.52 15.02L2 19l4.04 3.49M18.48 15.02L22 19l-4.04 3.49M8 12h8M12 8v8M2 11h20M19 3l3 4M5 3l-3 4"></path></svg>
            <svg id="avatar-diamond" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.7 10.3a2.41 2.41 0 000 3.41l7.59 7.59a2.41 2.41 0 003.41 0l7.59-7.59a2.41 2.41 0 000-3.41L13.7 2.71a2.41 2.41 0 00-3.41 0z"></path></svg>
            <svg id="avatar-anchor" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22V8M5 12H2a10 10 0 0020 0h-3M12 8a4 4 0 00-4-4 4 4 0 00-4 4"></path><circle cx="12" cy="5" r="2"></circle></svg>
            <svg id="avatar-aperture" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="m14.31 8 5.74 9.94M9.69 8h11.48M7.38 12.01 9.69 16l-5.74-9.94M9.69 16 4.26 6.06M14.31 16H2.83M16.62 12.01 14.31 8l5.74 9.94"></path></svg>
            <svg id="avatar-cloud" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.26A8 8 0 109 20h9a5 5 0 000-10z"></path></svg>
            <svg id="avatar-crown" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7z"></path></svg>
            <svg id="avatar-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg>
            <svg id="avatar-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            <svg id="avatar-key" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path></svg>
            <svg id="icon-gold-medal" viewBox="0 0 24 24"><path fill="#FFD700" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-12h2v6h-2zm0 8h2v2h-2z" transform="scale(0.8) translate(3 3)"></path><path fill="#F0C400" d="M12 4c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"></path><text x="50%" y="50%" font-size="12" font-weight="bold" fill="white" text-anchor="middle" dy=".3em">1</text></svg>
            <svg id="icon-silver-medal" viewBox="0 0 24 24"><path fill="#C0C0C0" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-12h2v6h-2zm0 8h2v2h-2z" transform="scale(0.8) translate(3 3)"></path><path fill="#A9A9A9" d="M12 4c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"></path><text x="50%" y="50%" font-size="12" font-weight="bold" fill="white" text-anchor="middle" dy=".3em">2</text></svg>
            <svg id="icon-bronze-medal" viewBox="0 0 24 24"><path fill="#CD7F32" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm-1-12h2v6h-2zm0 8h2v2h-2z" transform="scale(0.8) translate(3 3)"></path><path fill="#A0522D" d="M12 4c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zm0 14c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6z"></path><text x="50%" y="50%" font-size="12" font-weight="bold" fill="white" text-anchor="middle" dy=".3em">3</text></svg>
            </div>
    </div>

    <script type="module" src="script.js"></script>
<div id="medal-detail-popup" class="hidden fixed inset-0 bg-black bg-opacity-85 flex items-center justify-center p-4 z-20">
        <div class="bg-gray-800 rounded-lg p-6 text-center max-w-xs w-full relative">
            <button id="close-medal-popup" class="absolute top-2 right-2 text-3xl font-bold text-gray-500 hover:text-white">&times;</button>
            <div id="medal-popup-icon" class="w-20 h-20 mx-auto mb-4">
                </div>
            <h3 id="medal-popup-name" class="text-xl font-bold text-white mb-2">Nombre Medalla</h3>
            <p id="medal-popup-description" class="text-gray-400 text-sm">Descripción de cómo conseguirla.</p>
            <p id="medal-popup-status" class="mt-4 text-lg font-semibold"></p> </div>
    </div>
    
</body>
</html>












